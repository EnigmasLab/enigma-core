{
  "numAccounts": 3,
  "numDerivativeMarkets": 1,
  "seed": 1658339268842048001,
  "config": {
    "initContractRegistry": true,
    "registryOwnerAccountIndex": 1
  },
  "actions": [
    {
      "actionType": "endblocker"
    },
    {
      "actionType": "positionDerivative",
      "actionId": "0",
      "quantity": 10,
      "longAccountIndex": 1,
      "shortAccountIndex": 0,
      "entryPrice": 20
    },
    {
      "actionType": "endblocker",
      "blockInterval": 16
    },
    {
      "actionType": "priceOracle",
      "perpsPrices": [100000]
    },
    {
      "actionType": "positionDerivative",
      "actionId": "0",
      "quantity": 10,
      "longAccountIndex": 1,
      "shortAccountIndex": 0
    },
    {
      "actionType": "endblocker",
      "blockInterval": 16
    },
    {
      "actionType": "priceOracle",
      "perpsPrices": [100001]
    },
    {
      "actionType": "positionDerivative",
      "actionId": "0",
      "quantity": 10,
      "longAccountIndex": 1,
      "shortAccountIndex": 0
    },
    {
      "actionType": "endblocker",
      "blockInterval": 16
    },
    {
      "actionType": "priceOracle",
      "perpsPrices": [100000]
    },
    {
      "actionType": "endblocker",
      "actionId": "pre-setup",
      "blockInterval": 16
    },
    {
      "actionType": "registerAndInitContract",
      "filename": "ninja_master.wasm",
      "contractId": "scMaster",
      "message": {
        "owner":"$account(1)",
        "distribution_contract":"inj1cml96vmptgw99syqrrz8az79xer2pcgp0a885r",
        "ninja_token":"inj1cml96vmptgw99syqrrz8az79xer2pcgp0a885r"
      }
    },
    {
      "actionType": "storeContractCode",
      "filename": "ninja_vault_derivatives.wasm",
      "contractId": "scNinja"
    },
    {
      "actionType": "registerVault",
      "masterContractId": "scMaster",
      "accountIndex": 1,
      "registrationInfo": {
        "message": {
          "register_vault": {
            "vault_code_id": "$contractCodeIdAddress(scNinja)",
            "vault_label": "Derivative Vault",
            "instantiate_vault_msg": {
              "Derivative": {
                "head_change_tolerance_ratio": "1"
              }
            }
          }
        },
        "info": {
          "contractId": "scNinja",
          "codeId": "$contractCodeIdAddress(scNinja)",
          "registerForBB": true
        }
      }
    },
    {
      "actionType": "executeContract",
      "contractId": "scMaster",
      "executionType": "injective",
      "accountIndex": 1,
      "message": {
        "Subscribe": {
          "args": {
            "margin_ratio": "1.0",
            "vault_subaccount_id": "$contractAddress(scMaster).sub(1)",
            "subscriber_subaccount_id": "$subaccount(0)"
          }
        }
      },
      "withdrawFunds": true,
      "funds": [
        {
          "amount": 10000000,
          "denom": "USDT0"
        }
      ]
    },
    {
      "actionType": "endblocker"
    },
    {
      "actionType": "derivativeLimitOrder",
      "price": 88000,
      "quantity": 10,
      "orderType": "poBuy",
      "accountIndex": 3
    },
    {
      "actionType": "derivativeLimitOrder",
      "price": 101000,
      "quantity": 10,
      "orderType": "poSell",
      "accountIndex": 3
    },
    {
      "actionType": "endblocker"
    },
    {
      "actionType": "endblocker",
      "actionId": "post-setup",
      "skipBeginBlock" : true,
      "blockInterval": 16
    }
  ]
}